!function(a){var b=a.element.createElement,c=a.blocks.registerBlockType;c("gutenblocks/release",{title:gutenBlocksStrings.release.title,icon:b("svg",{"aria-hidden":!0,role:"img",key:"logo-release",className:"dashicon release-icon",focusable:"false",width:"20",height:"20",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},b("path",{d:"M1 4.27v7.47c0 .45.3.84.75.97l6.5 1.73c.16.05.34.05.5 0l6.5-1.73c.45-.13.75-.52.75-.97V4.27c0-.45-.3-.84-.75-.97l-6.5-1.74a1.4 1.4 0 0 0-.5 0L1.75 3.3c-.45.13-.75.52-.75.97zm7 9.09l-6-1.59V5l6 1.61v6.75zM2 4l2.5-.67L11 5.06l-2.5.67L2 4zm13 7.77l-6 1.59V6.61l2-.55V8.5l2-.53V5.53L15 5v6.77zm-2-7.24L6.5 2.8l2-.53L15 4l-2 .53z"})),category:"widgets",attributes:{name:{type:"string"},label:{type:"string"},tag:{type:"string"},logo:{type:"string"},notes:{type:"string"}},edit:function(c){var d="https://github.com/"+gutenBlocksStrings.release.ghUsername,e=d,f=a.blocks.getBlockType("gutenblocks/release"),g=f.icon,h=gutenBlocksStrings.release.downloadHTML,i=Object.assign({name:"",tag:"",label:"",logo:"",notes:""},c.attributes),j=function(a){if(a.preventDefault(),c.attributes.name&&!(c.attributes.name.length<=2)){var b=new Image;b.onload=function(){c.setAttributes({logo:this.src})},b.src="https://raw.githubusercontent.com/"+gutenBlocksStrings.release.ghUsername+"/"+c.attributes.name+"/master/icon.png"}};return c.attributes.name&&(d+="/"+c.attributes.name,e=d,c.attributes.tag&&(e+="/releases/tag/"+c.attributes.tag,d+="/releases/download/"+c.attributes.tag+"/"+c.attributes.name+".zip",h=h.replace("%s",c.attributes.tag))),c.attributes.logo&&(g=b("img",{key:"logo-release",src:c.attributes.logo,className:"release-icon"})),b("div",{key:"release-card",className:"plugin-card"},[b("div",{key:"release-required-fields",className:"required-fields"},[b("label",{key:"name-input-label",htmlFor:"name-input-"+c.id},gutenBlocksStrings.release.namePlaceholder),b("span",{key:"name-input-required",className:"required"}," * "),b("input",{id:"name-input-"+c.id,key:"name-input",type:"text",value:i.name,placeholder:gutenBlocksStrings.release.namePlaceholder,onChange:function(a){c.setAttributes({name:a.target.value})},onBlur:j}),b("label",{key:"tag-input-label",htmlFor:"tag-input-"+c.id},gutenBlocksStrings.release.tagPlaceholder),b("span",{key:"tag-input-required",className:"required"}," * "),b("input",{id:"tag-input-"+c.id,key:"tag-input",type:"text",value:i.tag,placeholder:gutenBlocksStrings.release.tagPlaceholder,onChange:function(a){c.setAttributes({tag:a.target.value})}})]),b("div",{className:"plugin-card-top",key:"release-card-top"},[b("h3",{key:"h3-card"},[g,b("label",{key:"label-input-label",htmlFor:"label-input-"+c.id,className:"screen-reader-text"},gutenBlocksStrings.release.labelPlaceholder),b("input",{id:"label-input-"+c.id,key:"label-input",type:"text",value:i.label,placeholder:gutenBlocksStrings.release.labelPlaceholder,onChange:function(a){c.setAttributes({label:a.target.value})}})]),b("div",{className:"desc column-description",key:"release-description"},[b("label",{key:"notes-input-label",htmlFor:"notes-input-"+c.id,className:"screen-reader-text"},gutenBlocksStrings.release.notesPlaceholder),b("textarea",{id:"notes-input-"+c.id,key:"notes-input",value:i.notes,placeholder:gutenBlocksStrings.release.notesPlaceholder,onChange:function(a){c.setAttributes({notes:a.target.value})}})]),b("div",{className:"download",key:"release-download"},b("button",{key:"download-button",className:"button submit gh-download-button"},[b("span",{key:"download-icon",className:"dashicons dashicons-download"}),b("a",{key:"download-link",href:d},h)]))])])},save:function(){return null}})}(window.wp||{});